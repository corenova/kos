# User's Guide

This documentation provides information on interacting with [Kinetic Reactor](./intro.md#kinetic-reactor) modules utilizing the `kos` CLI utility.

The `kos` utility provides an **interactive-prompt** interface for operating a running instance of the `kos` process. You can think of `kos` similarly to `node`, with the key difference being that instead of interacting with the JavaScript runtime, you are interacting with the [KOS runtime](#operating-system). You can also use `kos` *non-interactively* by supplying various arguments during execution of the CLI utility.  See [kos --help](#kos-help) for more details.

## Getting Started

The quickest way to get started with **KOS** is to start the `kos` program and begin interacting with it.
```
$ kos
kos>
load       load/path  process    program    prompt     reactor    read       require    show       .info      .help      .quit      
```
The above output is generated when you press `<TAB>` for auto-completion after entering the `kos` interactive shell.

### Loading Reactors

Using **KOS** you can dynamically `load` reactors into itself at any time. 

The `kos` utility allows you to pass in one or more reactors as arguments during instantiation:
```
$ kos sync http
kos> 
http/listen          http/request         http/request/get     http/route           http/server          http/server/request  link/stream          load
load/path            process              program              prompt               reactor              read                 require              show
sync/connect         sync/listen          .info                .help                .quit                
```
You can also `load` after entering the `kos` interactive shell:
```
$ kos
kos> load "sync"
kos> load "http"
kos>
```
As you `load` more reactors into **KOS**, the runtime automatically attains additional *reactions* that it can perform.  Pressing `<TAB>` from the prompt gives you a listing of currently possible **tokens** that the runtime can react to.

The ability to `load` additional reactors from the local file system at any time provides **KOS** with *unbounded* adaptive characteristics. The `load` token can also be sent to the **KOS** instance from a remote source.

### Operating System 

The **KOS** runtime is an operating environment where one or more [Kinetic Reactor](./intro.md#kinetic-reactor) modules are *loaded and reacting* to the running environment.

When you start the `kos` utility, the [run](../reactors/run.md) reactor is loaded as one of the reactors for the **KOS** operating environment.  The [run](../reactors/run.md) reactor provides runtime context reactions to the Node.js `process` object as well as `program` object that captures the CLI arguments.  
It's worth taking the time to understand how the [run](../reactors/run.md)
reactor operates.

From the `kos>` prompt, you can also use the `.info` command to check the state of internally loaded reactors at any time.

## kos commands

### kos --help

```
  Usage: kos [options] <reactors...>

  Options:

    -h, --help         output usage information
    -V, --version      output the version number
    -e, --expr <kson>  eval KSON expression and feed into KOS
    -d, --data <file>  feed KSON file contents into KOS
    -s, --show         print detailed info about reactor(s)
    -v, --verbose      enable more verbose output
    --silent           suppress all debug/info/warn/error log messages
```

The `kos` command-line utility internally uses the [run](../reactors/run.md) reactor to dynamically load reactor modules from the local filesystem.

### kos --show

The `--show` option provides a visual rendering of a reactor module.

The below output was generated by performing *introspection* of the [debug](../reactors/debug.md) reactor used by the `kos` utility.

```bash
$ kos --show debug
debug: reactions to send debugging messages to an output stream
├─ id: b3951676-2564-49d2-833b-edc91bfb6d80
├─ passive: false
├─ triggers
│  ├─ ƒ(setupLogger)   @ cce32d37-d3ba-42bb-b26d-a07f28fba14d
│  ├─ ƒ(outputError)   @ 61100d8d-da37-41f1-91e4-082ff2203be2
│  ├─ ƒ(outputMessage) @ 1daf162e-3ef5-44bd-b500-8d9bb5a067ec
│  ├─ ƒ(outputMessage) @ 88abf8a8-2188-4e24-8512-f986d35aa9be
│  └─ ƒ(outputMessage) @ 25b234f2-6ec9-425f-859f-387aeaacf23d
└──┐
   ├─╼ debug/level ╾─╼ ƒ(setupLogger)  
   ├─╼ error       ╾─╼ ƒ(outputError)  
   ├─╼ warn        ╾─╼ ƒ(outputMessage)
   ├─╼ info        ╾─╼ ƒ(outputMessage)
   └─╼ debug       ╾─╼ ƒ(outputMessage)
```

Using the `--show` option, you can easily extract useful information regarding data objects that the reactor `requires`, the various `triggers` and `reactors` contained inside the reactor, as well as `inputs` and `outputs` for each of the reactions.
